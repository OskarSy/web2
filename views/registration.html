<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.6.4.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
    <title>Document</title>
</head>
<body>
    <div class="container">
        <h2 class="text-center mb-2">Registrujte sa</h2>
        <form @submit.prevent="handleSubmit" class="d-flex flex-column">
          <div class="form-group mb-2">
            <label for="name" class="form-label">Name</label>
            <input
              type="text"
              class="form-control"
              id="name"
              placeholder="Enter name"
              @input="validateTextField('name')"
              data-required
            />
          </div>
          <div class="form-group mb-2">
            <label for="surname" class="form-label">Surname</label>
            <input
              type="text"
              class="form-control"
              id="surname"
              placeholder="Enter surname"
              @input="validateTextField('surname')"
              data-required
            />
          </div>
          <div class="form-group mb-2">
            <label for="username" class="form-label">Username</label>
            <input
              type="text"
              class="form-control"
              id="username"
              placeholder="Enter username"
              data-required
            />
          </div>
          <div class="form-group mb-2">
            <label for="email" class="form-label">Email</label>
            <input
              type="email"
              class="form-control"
              id="email"
              placeholder="Enter email"
              @input="validateEmail('email')"
              data-required
            />
          </div>
          <div class="form-group mb-2">
            <label for="password" class="form-label">Password</label>
            <input
              type="password"
              class="form-control"
              id="password"
              placeholder="Enter password"
              data-required
            />
          </div>
          <button type="submit" class="btn btn-primary">Registrova≈•</button>
        </form>
    </div>
    <script type="module" src="../languages/languageSwitching.js"></script>    
</body>
</html>
<script>
    //     handleSubmit() {
    //   if (this.checkFormValidity()) {
    //     $.ajax({
    //       type: "POST",
    //       contentType: "application/json",
    //       url: "/zad1/api/register.php",
    //       data: JSON.stringify(this.formData),
    //       dataType: "json",
    //     })
    //       .done((data) => {
    //         this.isError = data.error;
    //         if (!this.isError) {
    //           this.qrcodeUrl = data.body;
    //           this.showModal("QR Code");
    //         } else {
    //           this.errorMessage = `User with username: ${data.body.username} or email: ${data.body.email} already exists`;
    //           this.showModal("Chyba!");
    //         }
    //       })
    //       .fail((error) => {
    //         console.log(error);
    //       });
    //   }
    // },
    // validateTextField(fieldId) {
    //   const fieldValue = this.formData[fieldId];
    //   const regex = /^[A-Za-z]+([ -.]?[A-Za-z]+)*$/;
    //   if (!regex.test(fieldValue)) {
    //     if (!this.invalidFields.includes(fieldId)) {
    //       this.invalidFields.push(fieldId);
    //     }
    //   } else {
    //     const index = this.invalidFields.indexOf(fieldId);
    //     if (index !== -1) {
    //       this.invalidFields.splice(index, 1);
    //     }
    //   }
    // },
    // validateEmail(fieldId) {
    //   const fieldValue = this.formData[fieldId];
    //   const regex = /^\w{2,}([.-]?\w+)@\w+([.-]?\w+)(.\w{2,4})+$/;
    //   if (!regex.test(fieldValue)) {
    //     if (!this.invalidFields.includes(fieldId)) {
    //       this.invalidFields.push(fieldId);
    //     }
    //   } else {
    //     const index = this.invalidFields.indexOf(fieldId);
    //     if (index !== -1) {
    //       this.invalidFields.splice(index, 1);
    //     }
    //   }
    // },
    // checkFormValidity() {
    //   const invalidFieldsTexts = [];
    //   this.$el.querySelectorAll("[data-required]").forEach((field) => {
    //     if (!field.value.trim()) {
    //       const label = this.$el.querySelector(
    //         `label[for=${field.id}]`
    //       ).textContent;
    //       invalidFieldsTexts.push(label);
    //       this.isError = true;
    //     }
    //   });

    //   if (this.invalidFields.length > 0) {
    //     this.invalidFields.forEach((fieldId) => {
    //       console.log(fieldId);
    //       const label = this.$el.querySelector(
    //         `label[for=${fieldId}]`
    //       ).textContent;
    //       invalidFieldsTexts.push(label);
    //       this.isError = true;
    //     });
    //   }}
</script>
<style scoped>
    .container {
      max-width: 500px;
    }
    #qrPrompt {
      font-size: large;
    }
    </style>